<%= simple_form_for(@product) do |f| %>

  <fieldset>

    <p>
      <%= f.label :name %>
      <%= f.text_field :name, class: "round full-width-input", autofocus: true %>
    </p>

    <p>
      <%= f.label :category_id %>
      <%= f.collection_select :category_id, @categories, :id, :name, include_blank: true, class: "round default-width-input" %>
    </p>

    <p class='colors'>
      <%= f.label :colors %><br />
      <%= hidden_field_tag 'product[color_ids][]', nil %>
      <% Color.all.each do |color| %>
        <span>
          <%= check_box_tag 'product[color_ids][]', color.id, @product.color_ids.include?(color.id), id: dom_id(color) %> <%= label_tag dom_id(color), color.name, class: 'product-color', style: "border-color: #{color.code};" %>
        </span>
      <% end %>
    </p>

    <p class='colors'>
      <%= f.label :sizes %><br />
      <%= hidden_field_tag 'product[size_ids][]', nil %>
      <% Size.all.each do |size| %>
        <span>
          <%= check_box_tag 'product[size_ids][]', size.id, @product.size_ids.include?(size.id), id: dom_id(size) %> <%= label_tag dom_id(size), "#{size.name} (#{size.code})" %>
        </span>
      <% end %>
    </p>

    <p>
      <%= f.label :price %>
      <%= f.text_field :price, class: "round full-width-input" %>
    </p>

    <p>
      <%= f.label :image %>
      <%= image_tag(@product.image.thumb) if @product.image? %>
      <%= f.file_field :image %>
      <%= f.hidden_field :image_cache %>
    </p>

    <div class="stripe-separator"><!--  --></div>
    
    <%= f.submit "Salvar", class: "button round blue image-right ic-right-arrow" %>
  
  </fieldset>

<% end %>